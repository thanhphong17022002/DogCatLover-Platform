<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">


<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scooby - Petcare & Pet Shop HTML Template</title>
    <link rel="icon" href="../images/sm-logo.svg" type="image/gif" sizes="20x20">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <meta name="description"
          content="Chameleon Admin is a modern Bootstrap 4 webapp &amp; admin dashboard html template with a large number of components, elegant design, clean and organized code.">
    <meta name="keywords"
          content="admin template, Chameleon admin template, dashboard template, gradient admin template, responsive admin template, webapp, eCommerce dashboard, analytic dashboard">
    <meta name="author" content="ThemeSelect">

    <title>Staff - Dashboard</title>

    <link rel="icon" href="../images/sm-logo.svg" type="image/gif" sizes="20x20">
    <link rel="shortcut icon" type="image/x-icon"
          href="https://demos.themeelection.com/chameleon-free-bootstrap-admin-template/theme-assets/images/ico/favicon.ico">
    <link href="https://fonts.googleapis.com/css?family=Muli:300,300i,400,400i,600,600i,700,700i%7CComfortaa:300,400,700"
          rel="stylesheet">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link th:href="@{../maxcdn.icons8.com/fonts/line-awesome/1.1/css/line-awesome.min.css}" rel="stylesheet">

    <link rel="stylesheet" type="text/css" th:href="@{../css/vendors.css}">
    <link rel="stylesheet" type="text/css" th:href="@{../vendors/css/forms/toggle/switchery.min.css}">
    <link rel="stylesheet" type="text/css" th:href="@{../css/plugins/forms/switch.css}">
    <link rel="stylesheet" type="text/css" th:href="@{../css/core/colors/palette-switch.css}">
    <link rel="stylesheet" type="text/css" th:href="@{../vendors/css/charts/chartist.css}">
    <link rel="stylesheet" type="text/css" th:href="@{../css/app-lite.css}">
    <link rel="stylesheet" type="text/css" th:href="@{../css/core/menu/menu-types/vertical-menu.css}">
    <link rel="stylesheet" type="text/css" th:href="@{../css/core/colors/palette-gradient.css}">
    <link rel="stylesheet" type="text/css" th:href="@{../css/pages/dashboard-ecommerce.css}">

    <link rel="stylesheet" th:href="@{../css/all.css}">
    <link rel="stylesheet" th:href="@{../css/animate.css}">

    <link rel="stylesheet" th:href="@{../css/bootstrap.min.css}">

    <link rel="stylesheet" th:href="@{../css/boxicons.min.css}">

    <link rel="stylesheet" th:href="@{../css/bootstrap-icons.css}">

    <link rel="stylesheet" th:href="@{../css/jquery-ui.css}">
    <link rel="stylesheet" th:href="@{../css/aos.css}">

    <link rel="stylesheet" th:href="@{../css/swiper-bundle.css}">

    <link rel="stylesheet" th:href="@{../css/nice-select.css}">

    <link rel="stylesheet" th:href="@{../css/magnific-popup.css}">

    <link rel="stylesheet" th:href="@{../css/jquery.fancybox.min.css}">

    <link rel="stylesheet" th:href="@{../css/odometer.css}">

    <link rel="stylesheet" th:href="@{../css/datepicker.min.css}">

    <link rel="stylesheet" th:href="@{../css/uiicss.css}">

    <link rel="stylesheet" th:href="@{../css/style.css}">
</head>


<body class="vertical-layout vertical-menu 2-columns   menu-expanded fixed-navbar" data-open="click"
      data-menu="vertical-menu" data-color="bg-chartbg" data-col="2-columns">

<nav class="header-navbar navbar-expand-md navbar navbar-with-menu navbar-without-dd-arrow fixed-top navbar-semi-light" style="padding: 0px;">
    <div class="navbar-wrapper">
        <div class="navbar-container content">
            <div class="collapse navbar-collapse show" id="navbar-mobile">
                <ul class="nav navbar-nav mr-auto float-left">
                    <li class="nav-item d-block d-md-none"><a class="nav-link nav-menu-main menu-toggle hidden-xs"
                                                              href="#"><i class="ft-menu"></i></a></li>

                    <li class="nav-item dropdown navbar-search"><a class="nav-link dropdown-toggle hide"
                                                                   data-toggle="dropdown" href="#"><i
                            class="ficon ft-search"></i></a>

                        <ul class="dropdown-menu">
                            <li class="arrow_box">
                                <form>
                                    <div class="input-group search-box">
                                        <div class="position-relative has-icon-right full-width">
                                            <input class="form-control" id="search" type="text"
                                                   placeholder="Search here...">
                                            <div class="form-control-position navbar-search-close"><i class="ft-x"> </i>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </li>
                        </ul>
                    </li>
                </ul>


                <ul class="nav navbar-nav float-right">
                    <!--Dropdown User-->
                    <li class="dropdown dropdown-user nav-item"><a class="dropdown-toggle nav-link dropdown-user-link"
                                                                   href="#" data-toggle="dropdown"> <span
                            class="avatar avatar-online"><img th:src="@{'../../images/avatar/' + ${user.image}}"
                                                              alt="avatar"><i></i></span></a>
                        <div class="dropdown-menu dropdown-menu-right">
                            <div class="arrow_box_right"><a class="dropdown-item" href="#"><span
                                    class="avatar avatar-online"><img th:src="@{'../../images/avatar/' + ${user.image}}"
                                                                      alt="avatar"><span
                                    class="user-name text-bold-700 ml-1" th:text="${user.userName}"></span></span></a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" th:href="@{/index/profile}"><i class="ft-user"></i> Edit Profile</a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" th:href="@{/index/logout}"><i class="ft-power"></i> Logout</a>
                            </div>
                        </div>
                    </li>
                </ul>


            </div>
        </div>
    </div>
</nav>

<div class="main-menu menu-fixed menu-light menu-accordion    menu-shadow " data-scroll-to-active="true"
     data-img="../../images/backgrounds/02.jpg">
    <div class="navbar-header">
        <ul class="nav navbar-nav flex-row justify-content-center" style="background-color: black;">
            <li class="nav-item" style="margin-top: 20px;"><a th:href="@{/index/home}"><img alt="image"
                                                                                            class="img-fluid"
                                                                                            src="../../images/header1-logo.svg"></a>
            </li>
        </ul>
    </div>

    <div class="main-menu-content">
        <ul class="navigation navigation-main" id="main-menu-navigation" data-menu="menu-navigation">
            <li class="active"><a th:href="@{/staff/view}"><i class="ft-home" ></i><span class="menu-title" data-i18n="">Dashboard</span></a>
            </li>

            <li class=" nav-item"><a th:href="@{/staff/view/pending}"><i class="ft-credit-card"></i><span class="menu-title" data-i18n="">Pending Blog</span></a>
            </li>

            <li th:if="${user.roleDTO == 'ROLE_ADMIN'}" class=" nav-item"><a th:href="@{/staff/manageStaff}"><i class="ft-users"></i><span class="menu-title" data-i18n="">Staff Manager</span></a>

            <li th:if="${user.roleDTO == 'ROLE_ADMIN'}" class="nav-item"><a th:href="@{../../staff/staff-sign-up}"><i class="ft-user"></i><span class="menu-title" >Create Account</span> </a>
            </li>

<!--            <li th:if="${user.roleDTO == 'ROLE_ADMIN'}" class="nav-item"><a th:href="@{../../staff/chart}"><i class="ft-pie-chart"></i><span class="menu-title" data-i18n="">Charts</span></a>-->
<!--            </li>-->
        </ul>
    </div>

    <div class="navigation-background"></div>
</div>

<div class="signup-section pt-120 pb-120">
    <div class="container">
        <div class="row d-flex justify-content-center" >
            <div class="col-xl-6 col-lg-8 col-md-10" style=" margin: 0 1px 0 50vh;">
                <div class="form-wrapper wow fadeInUp" data-wow-duration="1.5s" data-wow-delay=".2s">
                    <div class="form-title">
                        <h3>Create Staff Account</h3>

                        <div th:if="${param.isSuccess}">Registration Fail</div>
                    </div>
                    <form class="w-100">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-inner">

                                    <label>UserName *</label>
                                    <input type="text" name="userName" id="userName" th:required="true">

                                </div>
                            </div>

                            <div class="col-md-12">
                                <div class="form-inner">
                                    <label>Enter Your Email *</label>

                                    <input type="email" id="email" name="email" th:required="true">

                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-inner">
                                    <label>Password *</label>

                                    <input type="password" name="password" id="password" th:required="true"/>

                                    <i class="bi bi-eye-slash" id="togglePassword"></i>
                                </div>
                            </div>

                            <div class="col-md-12">
                                <div class="form-agreement form-inner d-flex justify-content-between flex-wrap">
                                    <div class="form-group">
                                        <input type="checkbox" id="html">
                                        <label for="html">I agree to the Terms & Policy</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <button class="account-btn" type="submit" id="btn-sign-up-staff">Create Account</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
<script>
    document.getElementById('btn-sign-up-staff').addEventListener('click', function(e) {
        e.preventDefault();

        let userName = document.getElementById('userName').value;

        let email = document.getElementById('email').value;
        let password = document.getElementById('password').value;

        let html = document.getElementById('html').checked;

        if (!html) {
            alert('Please agree to the Terms & Policy');
            return;
        }
        if(userName.startsWith(' ')){
            alert('User name cannot starts with space! ');
            return;
        }
        if (!email.endsWith('@gmail.com')) {
            alert('Please enter a valid gmail address');
            return;
        }

        if (password.length < 8) {
            alert('Password must be at least 8 characters long');
            return;
        }

        console.log("username : ", userName, " password : ", password,  "email : ", email);
        $.ajax({
            url: "http://localhost:8080/staff/sign-up-staff-account",
            method: "post",
            contentType: "application/json",
            data: JSON.stringify({
                userName: userName,
                password: password,
                email: email
            })
        }).done(function (data) {
            console.log("server tra ve ", data)
            if(data && data.statusCode == 400){
                window.alert("Email has been registered change email please");
                return;
            }else if(data && data.statusCode == 200){
                window.alert('Account created successfully');
            }
        })

    });

</script>




<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js" integrity="sha384-eMNCOe7tC1doHpGoJtKh7z7lGz7fuP4F8nfdFvAOA6Gg/z6Y5J6XqqyGXYMwzl" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pzjw8f+ua7Kw1TIq0v8FqFjcJ6pajs/rfdfs3SO+kD4Ck5BdPtF+to8xMp9Mvc94Jw2XP9o5zGZ+LXzx5F+Rnz93z" crossorigin="anonymous"></script>


<script data-cfasync="false" src="../../../cdn-cgi/scripts/5c5dd728/cloudflare-email-decode.min.js"></script>
<script src="../js/jquery-3.6.0.min.js"></script>
<script src="../js/jquery-ui.js"></script>
<script src="../js/jquery.timepicker.min.js"></script>
<script src="../js/bootstrap.bundle.min.js"></script>
<script src="../js/swiper-bundle.min.js"></script>
<script src="../js/aos.js"></script>
<script src="../js/jquery.nice-select.js"></script>
<script src="../js/jquery.fancybox.min.js"></script>
<script src="../js/morphext.min.js"></script>
<script src="../js/odometer.min.js"></script>
<script src="../js/jquery.marquee.min.js"></script>
<script src="../js/viewport.jquery.js"></script>
<script src="../js/isotope.pkgd.min.js"></script>
<script src="../js/SmoothScroll.js"></script>
<script src="../js/jquery.nice-number.min.js"></script>
<script src="../js/jquery.magnific-popup.min.js"></script>
<script src="../js/masonry.pkgd.min.js"></script>
<script src="../js/main.js"></script>


<script src="../vendors/js/vendors.min.js}" type="text/javascript"></script>
<script src="../vendors/js/forms/toggle/switchery.min.js}" type="text/javascript"></script>
<script src="../js/scripts/forms/switch.js}" type="text/javascript"></script>
<script src="../buttons.github.io/buttons.js}" async defer></script>
<script src="../vendors/js/charts/chartist.min.js}" type="text/javascript"></script>
<script src="../js/core/app-menu-lite.js}" type="text/javascript"></script>
<script src="../js/core/app-lite.js}" type="text/javascript"></script>
<script src="../js/scripts/customizer-lite.js}" type="text/javascript"></script>
<script src="../vendors/js/jquery.sharrre.js}" type="text/javascript"></script>
<script src="../js/scripts/pages/dashboard-lite.js}" type="text/javascript"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>


</html>